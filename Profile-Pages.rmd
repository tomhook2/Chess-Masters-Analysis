---
title: "Profile: `r Master`"
author: "Tom Hook"
date: "`r format(Sys.Date(), '%d %B %y')`"
output: 
  flexdashboard::flex_dashboard:
    css: styles.css
    orientation: columns
    vertical_layout: fill
params:
  Master:
    label: "Select a Master"
    value: ""
---

```{r, echo = FALSE}
# FILE:                   Games Table
# DESCRIPTION:            Creates a table of all the masters games that the users can filter on.

# AUTHOR:                 Tom Hook
# CONTACT:                thomashook1@outlook.com
# LAST UPDATED:           09/07/2023
# VERSION:                v0.2    
```

```{r setup, echo = FALSE, message = FALSE, warning = FALSE}
source("R Scripts/Snippets for Markdown/Setup.r")
```

Summary Page
=====

Column {data-width=300}
-----

```{r}
source("R Scripts/Snippets for Markdown/Profile Stats.r")
```

### <span style="font-size:x-large;">Profile</span>


`r Master`'s peak elo is `r intEloMax`. They first had this rating when playing a game on `r format(dateEloMax, "%d %b %Y")`.

You can access their FIDE profile [here](https://ratings.fide.com/profile/`r FIDEID`){target="_blank"}.


Column {data-width=400}
-----

### <span style="font-size:x-large;">TEST</span>

### <span style="font-size:x-large;">FIDE Rating over Time</span>

```{r}
source("R Scripts/Snippets for Markdown/Elo Timeseries.r")

plotEloTimeseries
```

Column {.tabset .tabset-fade data-width=300}
-----

```{r}
source("R Scripts/Snippets for Markdown/Common Openings.r")
source("R Scripts/Snippets for Markdown/Result Distribution.r")
```

<span style="font-size:x-large;">Stats by White/Black Pieces</span>

### <span style="font-size:large;">Combined</span>

##### Most common openings played:

```{r}
tblOpenings
```

##### Result Distribution:

```{r  fig.width=5, fig.height=4}
plotResults
```

### <span style="font-size:large;">White</span>

##### Most common openings played:

```{r}
tblOpeningsWhite
```

##### Result Distribution:

```{r  fig.width=5, fig.height=4}
plotResultsWhite
```

### <span style="font-size:large;">Black</span>

##### Most common openings played:

```{r}
tblOpeningsBlack
```

##### Result Distribution:

```{r  fig.width=5, fig.height=4}
plotResultsBlack
```

List of Games
=====

```{r, echo = FALSE, warning = FALSE}
source("R Scripts/Snippets for Markdown/Table of Master Games.r")

tblMasterGames
```
